{"version":3,"sources":["script.js"],"names":["personList","document","querySelector","addBttn","filterInput","filterMonth","fetchPeople","response","fetch","data","json","result","htmlGenerator","arr","map","item","birthdayDate","Date","birthday","ordinary_suffix_of","d","j","k","getAge","age","date","now","getTime","actualAge","Math","abs","getFullYear","day","getDate","monthName","toLocaleString","month","today","setFullYear","difference_in_days","floor","id","picture","firstName","lastName","join","displayPeople","html","innerHTML","wait","ms","Promise","resolve","setTimeout","destroyPopup","popup","classList","remove","handleAddBttn","e","reject","createElement","add","skipButton","type","textContent","firstElementChild","appendChild","addEventListener","once","preventDefault","formEl","target","newPerson","value","push","dispatchEvent","CustomEvent","reset","lastname","body","handleClick","editBtn","closest","list","editItem","dataset","handleEditBttn","deleteBtn","deleteItem","handleDeleteBttn","editPerson","find","person","insertAdjacentHTML","firstname","div","filteredArr","filter","deleteBttn","initLocalStorage","stringForm","localStorage","getItem","listItem","JSON","parse","editLocalStorage","setItem","stringify","name","toLowerCase","includes","names","filteredMonth","birthDate","window"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["// Grab some elements which are used in this project.\nconst personList = document.querySelector('.people');\nconst addBttn = document.querySelector('.add');\nconst filterInput = document.querySelector('.search_by_name');\nconst filterMonth = document.querySelector('.filter_by_month');\n\n// A function that fetch the data.\nasync function fetchPeople() {\n    const response = await fetch('./people.json');\n    const data = await response.json();\n    let result = [];\n    result = data;\n\n    // Generate the data into html.\n    function htmlGenerator(arr) {\n        return arr.map(item => {\n            const birthdayDate = new Date(item.birthday);\n\n            function ordinary_suffix_of(d) {\n                let j = d % 10,\n                k = d % 100\n\n                if (j == 1 && k != 11) {\n                    return d + \"st\";\n                }\n                if (j == 2 && k != 12) {\n                    return d + \"nd\";\n                }\n                if (j == 3 && k != 13) {\n                    return d + \"rd\";\n                }\n                return d + \"th\";\n            }\n            \n            function getAge(age) {\n                let date = Date.now() - age.getTime();\n                const actualAge = new Date(date);\n                return Math.abs(actualAge.getFullYear() - 1970) + 1;\n            }\n\n            const age = getAge(new Date(item.birthday));\n\n            let day = birthdayDate.getDate();\n            let monthName = birthdayDate.toLocaleString('default', { month: 'long' });\n\n            const today = new Date();\n\n            // To get the number of days untill your next birthday.\n            if (today > birthdayDate) {\n                birthdayDate.setFullYear(today.getFullYear() + 1);\n            }\n\n            const difference_in_days = Math.floor((birthdayDate - today) / (1000*60*60*24));\n\n            return `\n                <ul data-id=\"${item.id}\" class=\"navigation\">\n                    <li class=\"list_item\">\n                        <img class=\"profile\" src=\"${item.picture}\" alt=\"profile picture\">\n                    </li>\n                    <li class=\"list_item names\" data-value=\"${item.firstName}\">\n                        <h4>${item.firstName} ${item.lastName}</h4>\n                        <p class=\"birthday\">Turn <small class=\"age\">${age}</small> on ${monthName} ${ordinary_suffix_of(day)}. </p>\n                    </li>\n                    <li class=\"list_item\"> \n                        <p class=\"next_birthday\">In ${difference_in_days} days</p>\n\n                        <div class=\"buttons\">\n                            <button class=\"edit\" id=\"${item.id}\">\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z\"/></svg>\n                            </button>\n                            <button class=\"delete\" id=\"${item.id}\">\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" fill=\"pink\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H7.07L2.4 12l4.66-7H22v14zm-11.59-2L14 13.41 17.59 17 19 15.59 15.41 12 19 8.41 17.59 7 14 10.59 10.41 7 9 8.41 12.59 12 9 15.59z\"/></svg>\n                            </button>\n                        </div>\n\n                    </li>\n                </ul>\n            `;\n        }).join('');\n    }\n\n    // A functin to display the data into html.\n    function displayPeople() {\n        const html = htmlGenerator(result);\n\n        personList.innerHTML = html;\n    }\n    displayPeople();\n\n    const wait = (ms = 0) => {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n\n    const destroyPopup = async (popup) => {\n        popup.classList.remove('open');\n        await wait(1000);\n        popup = null;\n    }\n\n    // A function for adding new people and handle the add item button.\n    const handleAddBttn = async (e) => {\n        return new Promise(async function(resolve, reject) {\n            let popup = document.createElement('form');\n            popup.classList.add('form');\n\n            // HTML for the form that we need for adding some new people.\n            const html = `\n                <div class=\"add_form\">\n                    <h2 class=\"add_header\">Add your name and your birthday</h2>\n                    <fieldset>\n                        <label for=\"firstname\">First name</label>\n                        <input type=\"text\" id=\"firstname\" name=\"firstName\" placeholder=\"enter your firstname\" required>\n                    </fieldset>\n                    <fieldset>\n                        <label for=\"lastname\">Last name</label>\n                        <input type=\"text\" id=\"lastname\" name=\"lastName\" placeholder=\"enter your lastname\" required>\n                    </fieldset>\n                    <fieldset>\n                        <label for=\"birthday\">Birthday</label>\n                        <input type=\"date\" id=\"birthday\" name=\"birthday\" placeholder=\"enter your birthday\" required>\n                    </fieldset>\n                    <fieldset>\n                        <label for=\"profile\">Avatar image</label>\n                        <input type=\"text\" id=\"profile\" name=\"picture\" placeholder=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQWPtccjWVFluoAnrs-ZL_dmwSIt0SC_9CSnw&usqp=CAU\">\n                    </fieldset>\n                    <button class=\"submitbttn\" type=\"submit\">Submit</button>\n                </div>\n            `;\n            popup.innerHTML = html;\n            resolve();\n            destroyPopup(popup);\n\n            // A condition to create the cancel button.\n            if (reject) {\n                const skipButton = document.createElement('button');\n                skipButton.type = \"button\";\n                skipButton.textContent = \"Cancel\"\n                skipButton.classList.add('cancel');\n                popup.firstElementChild.appendChild(skipButton);\n                skipButton.addEventListener('click', () => {\n                    resolve(null);\n                    destroyPopup(popup);\n                }, { once: true });\n            }\n\n            // An event listener for the submit button in the form.\n            popup.addEventListener('submit', (e) => {\n                e.preventDefault();\n                const formEl = e.target;\n                const newPerson = {\n                    firstName: formEl.firstName.value,\n                    lastName: formEl.lastName.value,\n                    birthday: formEl.birthday.value,\n                    picture: formEl.picture.value,\n                    id: Date.now()\n                };\n                result.push(newPerson);\n                personList.dispatchEvent(new CustomEvent('editInformation'));\n                displayPeople();\n                destroyPopup(popup);\n                popup.reset();\n\n                // HTML for grabbing all the values from the form and push them into the page.\n                const html = `\n                    <ul>\n                        <li>\n                            <img class=\"profile\" src=\"${newPerson.picture}\" alt=\"profile picture\" />\n                        </li>\n                        <li>\n                            ${newPerson.firstName} ${newPerson.lastname}\n                        </li>\n                        <li>${newPerson.birthday}</li>\n                        <li>\n                            <button class=\"edit\">\n                                <svg class=\"w-6 h-6\" width=\"32px\" height=\"32px\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"></path></svg>\n                            </button>\n                        </li>\n                        <li>\n                            <button class=\"delete\">\n                                <svg class=\"w-6 h-6\" width=\"32px\" height=\"32px\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"></path></svg>\n                            </button>\n                        </li>\n                    </ul>\n                `;\n                formEl.innerHTML = html;\n                }, { once: true });\n                document.body.appendChild(popup);\n                await wait(50);\n                popup.classList.add('open');\n            });\n        };\n\n    // A function that handle delete and edit buttons.\n    const handleClick = (e) => {\n        const editBtn = e.target.closest('button.edit');\n\n        if (editBtn) {\n            const list = e.target.closest('ul');\n            const editItem = list.dataset.id;\n            handleEditBttn(editItem);\n        }\n\n        const deleteBtn = e.target.closest('button.delete');\n\n        if (deleteBtn) {\n            const list = e.target.closest('ul');\n            const deleteItem = list.dataset.id;\n            handleDeleteBttn(deleteItem);\n        }\n    };\n\n    // Handle the edit buttons.\n    const handleEditBttn = (id) => {\n        // Find the data which you want to edit.\n        let editPerson = result.find(person => person.id === id);\n\n        return new Promise(function(resolve, reject) {\n            let popup = document.createElement('form');\n            popup.classList.add('form');\n            popup.classList.add('open');\n\n\n            // HTML for the edit form.\n            const html = `\n                <div class=\"edit_form\">\n                    <h2 class=\"edit_header\">Edit ${editPerson.firstName} ${editPerson.lastName}</h2>\n                    <fieldset>\n                        <label for=\"firstname\">Your firstname</label>\n                        <input type=\"text\" id=\"firstname\" value=\"${editPerson.firstName}\">\n                    </fieldset>\n                    <fieldset>\n                        <label for=\"lastname\">Your lastname</label>\n                        <input type=\"text\" id=\"lastname\" value=\"${editPerson.lastName}\">\n                    </fieldset>\n                    <fieldset>\n                        <label for=\"birthday\">Your birthday date</label>\n                        <input type=\"date\" id=\"birthday\"\">\n                    </fieldset>\n                    <fieldset>\n                        <label for=\"picture\">Profile picture</label>\n                        <input type=\"url\" id=\"picture\" value=\"${editPerson.picture}\">\n                    </fieldset>\n                    <button class=\"submitbttn\" name=\"submit\" type=\"submit\">Submit</button>\n                </div>\n            `;\n\n            popup.insertAdjacentHTML('afterbegin', html);\n\n            popup.addEventListener('submit', (e) => {\n                e.preventDefault();\n\n                editPerson.firstName = popup.firstname.value;\n                editPerson.lastName = popup.lastname.value;\n                editPerson.birthday = popup.birthday.value;\n                editPerson.picture = popup.picture.value; \n\n\n                displayPeople(editPerson);\n                destroyPopup(popup);\n                personList.dispatchEvent(new CustomEvent('editInformation'));\n\n            }, { once: true });\n\n\n            // A condition to create a cancel button and handle that button.\n            if (reject) {\n                const skipButton = document.createElement('button');\n                skipButton.type = \"button\";\n                skipButton.textContent = \"Cancel\"\n                skipButton.classList.add('cancel');\n                popup.firstElementChild.appendChild(skipButton);\n                skipButton.addEventListener('click', () => {\n                    resolve(null);\n                    destroyPopup(popup);\n                }, { once: true });\n            }\n\n            document.body.appendChild(popup);\n            popup.classList.add('open');\n        });\n    };\n\n    // Handle delete button.\n    const handleDeleteBttn = (id) => {\n\n        return new Promise(async function(resolve, reject) {\n            let div = document.createElement('div');\n            div.classList.add('form');\n\n\n            // HTML for the little popup contains the yes button for accepting the deletion and cancel for reusing.\n            const html = `\n            <div class=\"delete_item\">\n                <h3 class=\"delete_header\">Do you want to delete this?</h3>\n                <div>\n                    <button class=\"submitbttn\" type=\"button\">Ok</button>\n                </div>\n            </div>\n            `;\n            div.innerHTML = html;\n\n        if (reject) {\n            const skipButton = document.createElement('button');\n            skipButton.type = \"button\";\n            skipButton.textContent = \"Cancel\"\n            skipButton.classList.add('cancel');\n            div.firstElementChild.appendChild(skipButton);\n            skipButton.addEventListener('click', () => {\n                resolve(null);\n                destroyPopup(div);\n            });\n        }\n\n        div.addEventListener('click', (e) => {\n            const filteredArr = result.filter(person => person.id != id);\n            let deleteBttn = document.querySelector('button.yes');\n            if (deleteBttn) {\n                result = filteredArr;\n                displayPeople(result);\n                destroyPopup(div);\n            }\n        });\n        document.body.appendChild(div);\n        div.classList.add('open');\n        personList.dispatchEvent(new CustomEvent('editInformation'));\n        });\n    };\n\n    // Storing the data into the localeStorage.\n    const initLocalStorage = () => {\n        const stringForm = localStorage.getItem('result');\n        const listItem = JSON.parse(stringForm);\n        if (listItem) {\n            result = listItem;\n            personList.dispatchEvent(new CustomEvent('editInformation'));\n        } else {\n            result = [];\n        }\n    };\n\n    const editLocalStorage = () => {\n        localStorage.setItem('result', JSON.stringify(result));\n    }\n\n    // events for the search input and the select in index.html page.\n    filterInput.addEventListener('input', function (e) {\n        let filteredArr = result.filter(name => {\n            return name.firstName.toLowerCase().includes(e.target.value.toLowerCase());\n        });\n        let names = htmlGenerator(filteredArr);\n        personList.innerHTML = names;\n    });\n\n    filterMonth.addEventListener('change', function (e) {\n        let filteredMonth = result.filter(month => {\n            let birthDate = new Date(month.birthday);\n            let monthName = birthDate.toLocaleString('default', { month: 'long' });\n\n            return monthName == e.target.value;\n        })\n\n        let month = htmlGenerator(filteredMonth);\n        personList.innerHTML = month;\n    })\n\n    // Event listener and event delegation.\n    addBttn.addEventListener('click', handleAddBttn);\n    window.addEventListener('click', handleClick);\n    personList.addEventListener('editInformation', editLocalStorage);\n    personList.dispatchEvent(new CustomEvent('editInformation'));\n\n    initLocalStorage();\n}\n\n// Call the function.\nfetchPeople();"]}